<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShaDoC User Evaluation</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script type="module" src="https://cdn.jsdelivr.net/gh/zerodevx/zero-md@2/dist/zero-md.min.js"></script>
</head>

<body class="p-8">

    <h1 class="text-center">ShaDoC User Evaluation</h1>
    <h2 class="text-center">Official vs Customized API Documentation</h2>
    <br>
    <h2 class="name text-center"></h2>
    <br>

    <div class="content-and-form">
        <div class="container-main">
            <ul class="flex mb-4 tab-header">
                <li>
                    <button type="button" class="tabs">
                        <span id="code"></span>
                        Official API Documentation
                    </button>
                </li>
                <li>
                    <button type="button" class="tabs">
                        Customized API Documentation
                    </button>
                </li>
            </ul>

            <div id="container_1" class="container-item">
                <div id="tab-content-1" class="overflow-auto h-screen">
                    <div class="border rounded-md p-4 hidden" id="container-1-tab-1">
                        <zero-md id="doc1"></zero-md>
                    </div>
                    <div class="border rounded-md p-8 hidden" id="container-1-tab-2">
                        <zero-md id="doc1-cust" src="docs/tf.while_loop.md"></zero-md>
                    </div>
                </div>
            </div>


            <div id="container_2" class="container-item">
                <div id="tab-content-2" class="overflow-auto h-screen">
                    <div class="border rounded-md p-6 hidden" id="container-2-tab-1">
                        <zero-md id="doc2"></zero-md>
                    </div>
                    <div class="border rounded-md p-4 hidden" id="container-2-tab-2">
                        <zero-md src="docs/tf.pad.md"></zero-md>
                    </div>
                </div>
            </div>

            <div id="container_3" class="container-item">
                <div id="tab-content-3" class="overflow-auto h-screen">
                    <div class="border rounded-md p-4 hidden" id="container-3-tab-1">
                        <zero-md id="doc3"></zero-md>
                    </div>
                    <div class="border rounded-md p-6 hidden" id="container-3-tab-2">
                        <zero-md src="docs/tf.map_fn.md"></zero-md>
                    </div>
                </div>
            </div>

            <div id="container_4" class="container-item">
                <div id="tab-content-4" class="overflow-auto h-screen">
                    <div class="border rounded-md p-4 hidden" id="container-4-tab-1">
                        <zero-md id="doc4"></zero-md>
                    </div>
                    <div class="border rounded-md p-6 hidden" id="container-4-tab-2">
                        <zero-md src="docs/tf.map_fn.md"></zero-md>
                    </div>
                </div>
            </div>

            <div id="container_5" class="container-item">
                <div id="tab-content-5" class="overflow-auto h-screen">
                    <div class="border rounded-md p-4 hidden" id="container-5-tab-1">
                        <zero-md id="doc5"></zero-md>
                    </div>
                    <div class="border rounded-md p-6 hidden" id="container-5-tab-2">
                        <zero-md src="docs/tf.map_fn.md"></zero-md>
                    </div>
                </div>
            </div>
        </div>

        <div class="iframe-container h-screen">

            <iframe id="JotFormIFrame-241128648264257" title="Developer Questionnaire"
                onload="window.parent.scrollTo(0,0)" allowtransparency="true"
                allow="geolocation; microphone; camera; fullscreen" src="https://form.jotform.com/241128648264257"
                frameborder="0" style="min-width:100%;max-width:100%;max-height:100%;border:none;" scrolling="yes">
            </iframe>
            <script src='https://form.jotform.com/s/umd/latest/for-form-embed-handler.js'></script>
            <script>window.jotformEmbedHandler("iframe[id='JotFormIFrame-241128648264257'", "https://form.jotform.com/")</script>

        </div>

    </div>

    <div class="pagination">
        <button class="prev-btn" onclick="backBtn()">Back</button>
        <ul class="pag-ul">
            <li class="link new-li active" value="1" onclick="activeLink()">1</li>
            <li class="link new-li" value="2" onclick="activeLink()">2</li>
            <li class="link new-li" value="3" onclick="activeLink()">3</li>
            <li class="link new-li" value="4" onclick="activeLink()">4</li>
            <li class="link new-li" value="5" onclick="activeLink()">5</li>
        </ul>
        <button class="next-btn" onclick="nextBtn()">Next</button>
    </div>

    <footer class="text-center">
        <small>&copy; 2024 Sharuka Thirimanne. All rights reserved.</small>
    </footer>

</body>

<script>
    const code = localStorage.getItem('code');

    const docs = {
        "0001": ["tf.while_loop.md", "tf.map_fn.md", "tf.pad.md", "tf.map_fn.md", "tf.pad.md"],
        "0002": ["tf.map_fn.md", "tf.pad.md", "tf.while_loop.md", "tf.map_fn.md", "tf.pad.md"],
        "0003": ["tf.pad.md", "tf.while_loop.md", "tf.map_fn.md", "tf.map_fn.md", "tf.pad.md"]
    };

    const assignedDocs = docs[code] || []; //

    document.getElementById('doc1').setAttribute("src", "docs/".concat(assignedDocs[0]));
    document.getElementById('doc2').setAttribute("src", "docs/".concat(assignedDocs[1]));
    document.getElementById('doc3').setAttribute("src", "docs/".concat(assignedDocs[2]));
    document.getElementById('doc4').setAttribute("src", "docs/".concat(assignedDocs[3]));
    document.getElementById('doc5').setAttribute("src", "docs/".concat(assignedDocs[4]));

    let heading = document.querySelector("h2.name.text-center");
    heading.textContent = assignedDocs[0];

    let link = document.getElementsByClassName("link")
    let containerItems = document.getElementsByClassName("container-item");
    containerItems[0].classList.remove("hidden");
    containerItems[1].classList.add("hidden");
    containerItems[2].classList.add("hidden");
    containerItems[3].classList.add("hidden");
    containerItems[4].classList.add("hidden");

    let currentValue = 1
    let currentContainer = 1

    function activeLink() {
        for (l of link) {
            l.classList.remove("active");
        }
        event.target.classList.add("active");
        currentValue = event.target.value;

        if (currentValue === 1) {
            heading.textContent = assignedDocs[0];
        }
        else if (currentValue === 2) {
            heading.textContent = assignedDocs[1];
        }
        else if (currentValue === 3) {
            heading.textContent = assignedDocs[2];
        }
        else if (currentValue === 4) {
            heading.textContent = assignedDocs[3];
        }
        else {
            heading.textContent = assignedDocs[4];
        }

        const containerNumber = parseInt(event.target.getAttribute("value")); // Get the number value from the clicked link

        // Update currentContainer only if the clicked number is valid (within container range)
        if (containerNumber > 0 && containerNumber <= containerItems.length) {
            currentContainer = containerNumber;
        }

        // Hide all containers and show the one corresponding to the clicked number
        for (const item of containerItems) {
            item.classList.add("hidden");
        }
        containerItems[currentContainer - 1].classList.remove("hidden");

        const currentContainerContent = containerItems[currentValue - 1].querySelector(".overflow-auto");
        currentContainerContent.querySelectorAll(".border.rounded-md.p-4").forEach(tab => tab.classList.add("hidden"));
        const firstTab = currentContainerContent.querySelector("[id*='tab-1']");
        firstTab.classList.remove("hidden");

    }

    function backBtn() {
        if (currentValue > 1) {
            for (l of link) {
                l.classList.remove("active");
            }
            currentValue--;
            link[currentValue - 1].classList.add("active");

            if (currentValue === 1) {
                heading.textContent = assignedDocs[0];
            }
            else if (currentValue === 2) {
                heading.textContent = assignedDocs[1];
            }
            else if (currentValue === 3) {
                heading.textContent = assignedDocs[2];
            }
            else if (currentValue === 4) {
                heading.textContent = assignedDocs[3];
            }
            else {
                heading.textContent = assignedDocs[4];
            }


            // Hide all containers and show the one corresponding to currentContainer
            for (const item of containerItems) {
                item.classList.add("hidden");
            }
            containerItems[currentValue - 1].classList.remove("hidden");

            const currentContainerContent = containerItems[currentValue - 1].querySelector(".overflow-auto");
            currentContainerContent.querySelectorAll(".border.rounded-md.p-4").forEach(tab => tab.classList.add("hidden"));
            const firstTab = currentContainerContent.querySelector("[id*='tab-1']");
            firstTab.classList.remove("hidden");
        }
    }

    function nextBtn() {
        if (currentValue < 5) {
            for (l of link) {
                l.classList.remove("active");
            }
            currentValue++;
            link[currentValue - 1].classList.add("active");

            if (currentValue === 1) {
                heading.textContent = assignedDocs[0];
            }
            else if (currentValue === 2) {
                heading.textContent = assignedDocs[1];
            }
            else if (currentValue === 3) {
                heading.textContent = assignedDocs[2];
            }
            else if (currentValue === 4) {
                heading.textContent = assignedDocs[3];
            }
            else {
                heading.textContent = assignedDocs[4];
            }

            // Hide all containers and show the one corresponding to currentContainer
            for (const item of containerItems) {
                item.classList.add("hidden");
            }
            containerItems[currentValue - 1].classList.remove("hidden");

            const currentContainerContent = containerItems[currentValue - 1].querySelector(".overflow-auto");
            currentContainerContent.querySelectorAll(".border.rounded-md.p-4").forEach(tab => tab.classList.add("hidden"));
            const firstTab = currentContainerContent.querySelector("[id*='tab-1']");
            firstTab.classList.remove("hidden");


        }
    }

    const tabs = document.querySelectorAll('ul li button');
    const tabContent1 = document.getElementById('tab-content-1').children;
    const tabContent2 = document.getElementById('tab-content-2').children;
    const tabContent3 = document.getElementById('tab-content-3').children;
    const tabContent4 = document.getElementById('tab-content-4').children;
    const tabContent5 = document.getElementById('tab-content-5').children;


    const feedbackForm = document.getElementById('feedback-form');


    // Set the first tab as active by default
    tabs[0].classList.add('active:bg-gray-200', 'border-b-2', 'border-indigo-500');
    tabContent1[0].classList.remove('hidden');

    tabs.forEach((tabButton, index) => {
        tabButton.addEventListener('click', () => {
            // Reset styles for all tabs
            tabs.forEach(btn => btn.classList.remove('active:bg-gray-200', 'border-b-2', 'border-indigo-500'));

            // Apply styles to the clicked tab
            tabButton.classList.add('active:bg-gray-200', 'border-b-2', 'border-indigo-500');

            // Show/Hide content based on clicked tab
            for (const content of tabContent1) {
                content.classList.add('hidden');
            }
            tabContent1[index].classList.remove('hidden');
        });
    });

    tabs.forEach((tabButton, index) => {
        tabButton.addEventListener('click', () => {
            // Reset styles for all tabs
            tabs.forEach(btn => btn.classList.remove('active:bg-gray-200', 'border-b-2', 'border-indigo-500'));

            // Apply styles to the clicked tab
            tabButton.classList.add('active:bg-gray-200', 'border-b-2', 'border-indigo-500');

            // Show/Hide content based on clicked tab
            for (const content of tabContent2) {
                content.classList.add('hidden');
            }
            tabContent2[index].classList.remove('hidden');
        });
    });

    tabs.forEach((tabButton, index) => {
        tabButton.addEventListener('click', () => {
            // Reset styles for all tabs
            tabs.forEach(btn => btn.classList.remove('active:bg-gray-200', 'border-b-2', 'border-indigo-500'));

            // Apply styles to the clicked tab
            tabButton.classList.add('active:bg-gray-200', 'border-b-2', 'border-indigo-500');

            // Show/Hide content based on clicked tab
            for (const content of tabContent3) {
                content.classList.add('hidden');
            }
            tabContent3[index].classList.remove('hidden');
        });
    });
    tabs.forEach((tabButton, index) => {
        tabButton.addEventListener('click', () => {
            // Reset styles for all tabs
            tabs.forEach(btn => btn.classList.remove('active:bg-gray-200', 'border-b-2', 'border-indigo-500'));

            // Apply styles to the clicked tab
            tabButton.classList.add('active:bg-gray-200', 'border-b-2', 'border-indigo-500');

            // Show/Hide content based on clicked tab
            for (const content of tabContent4) {
                content.classList.add('hidden');
            }
            tabContent4[index].classList.remove('hidden');
        });
    });
    tabs.forEach((tabButton, index) => {
        tabButton.addEventListener('click', () => {
            // Reset styles for all tabs
            tabs.forEach(btn => btn.classList.remove('active:bg-gray-200', 'border-b-2', 'border-indigo-500'));

            // Apply styles to the clicked tab
            tabButton.classList.add('active:bg-gray-200', 'border-b-2', 'border-indigo-500');

            // Show/Hide content based on clicked tab
            for (const content of tabContent5) {
                content.classList.add('hidden');
            }
            tabContent5[index].classList.remove('hidden');
        });
    });



</script>